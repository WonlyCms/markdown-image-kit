<idea-plugin>
    <id>info.dong4j.idea.plugin.markdown.image.kit</id>
    <name>Markdown Image Kit</name>
    <version>0.0.1</version>
    <vendor email="dong4j@gmail.com" url="http://www.dong4j.info">dong4j</vendor>

    <depends>com.intellij.modules.lang</depends>
    <description>
        OSS upload, xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    </description>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->

    <extensions defaultExtensionNs="com.intellij">
        <editorActionHandler action="EditorPaste"
                             implementationClass="info.dong4j.idea.plugin.handler.PasteImageHandler"
                             order="first"/>
        <!-- 设置面板 -->
        <applicationConfigurable groupId="tools" instance="info.dong4j.idea.plugin.settings.ProjectSettingsPage"/>
        <!-- 持久化 -->
        <applicationService serviceInterface="info.dong4j.idea.plugin.settings.ImageManagerPersistenComponent"
                            serviceImplementation="info.dong4j.idea.plugin.settings.ImageManagerPersistenComponent"/>

    </extensions>

    <actions>
        <action id="AliyunObjectStorageServiceAction" class="info.dong4j.idea.plugin.action.UploadAliyunCloudAction"
                popup="true" text="上传到阿里云">
        </action>
        <action id="WeiboObjectStorageServiceAction" class="info.dong4j.idea.plugin.action.UploadWeiboCloudAction"
                popup="true" text="上传到微博">
        </action>
        <action id="QiniuObjectStorageServiceAction" class="info.dong4j.idea.plugin.action.UploadQiniuCloudAction"
                popup="true" text="上传到七牛云">
        </action>
        <action id="ImageCompressAction" class="info.dong4j.idea.plugin.action.ImageCompressAction"
                popup="true" text="图片压缩">
        </action>
        <action id="ImageUploadAction" class="info.dong4j.idea.plugin.action.ImageUploadAction"
                popup="true" text="图片上传">
        </action>
        <action id="MoveToOtherStorageAction" class="info.dong4j.idea.plugin.action.MoveToOtherStorageAction"
                popup="true" text="图床迁移计划">
        </action>

        <group popup="true" id="info.dong4j.idea.plugin.markdown.image.kit"
               class="info.dong4j.idea.plugin.action.UploadGroupAction"
               text="Markdown Image Kit">
            <reference ref="WeiboObjectStorageServiceAction"/>
            <reference ref="AliyunObjectStorageServiceAction"/>
            <reference ref="QiniuObjectStorageServiceAction"/>
            <separator/>
            <reference ref="ImageCompressAction"/>
            <reference ref="ImageUploadAction"/>
            <separator/>
            <reference ref="MoveToOtherStorageAction"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <add-to-group group-id="MainToolBar" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="ChangesViewPopupMenu" anchor="last"/>
        </group>

        <!-- 编辑器右键菜单 -->
        <group popup="true" id="info.dong4j.idea.plugin.editor.popup.menu.group" text="Upload Image"
               icon="AllIcons.Gutter.Colors">
            <reference ref="WeiboObjectStorageServiceAction"/>
            <reference ref="AliyunObjectStorageServiceAction"/>
            <reference ref="QiniuObjectStorageServiceAction"/>
            <separator/>
            <reference ref="ImageCompressAction"/>
            <reference ref="ImageUploadAction"/>
            <separator/>
            <reference ref="MoveToOtherStorageAction"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </group>

    </actions>
</idea-plugin>